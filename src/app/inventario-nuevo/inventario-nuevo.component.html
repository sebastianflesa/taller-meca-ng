<main>
  <div class="container d-flex justify-content-center align-items-center min-vh-100">
    <div class="row w-100">
      <div class="col-lg-6 col-md-8 col-sm-12 mx-auto">
        <h1 class="text-center">Inventario</h1>
        <p class="lead text-center">Crear nuevo ítem</p>
        <form [formGroup]="inventarioForm" (ngSubmit)="onSubmit()" class="p-4 border rounded bg-light shadow-sm">
          <div class="mb-3">
            <label for="name" class="form-label">Nombre</label>
            <input
              type="text"
              id="name"
              class="form-control"
              formControlName="name"
            />
            <div *ngIf="control['name'].invalid && control['name'].touched" class="text-danger">
              <small *ngIf="control['name'].errors?.['required']">El nombre es obligatorio.</small>
              <small *ngIf="control['name'].errors?.['maxlength']">El nombre no puede tener más de 50 caracteres.</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="category" class="form-label">Categoría</label>
            <select
              id="category"
              class="form-control"
              formControlName="category"
            >
              <option [value]="" disabled selected>Seleccionar categoría</option>
              <option value="insumo">Insumo</option>
              <option value="repuesto">Repuesto</option>
            </select>
            <div *ngIf="control['category'].invalid && control['category'].touched" class="text-danger">
              <small>La categoría es obligatoria.</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="quantity" class="form-label">Cantidad</label>
            <input
              type="number"
              id="quantity"
              class="form-control"
              formControlName="quantity"
            />
            <div *ngIf="control['category'].invalid && control['category'].touched" class="text-danger">
              <small *ngIf="control['category'].errors?.['required']">La cantidad es obligatoria.</small>
              <small *ngIf="control['category'].errors?.['min']">La cantidad debe ser mayor o igual a 1.</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="price" class="form-label">Precio</label>
            <input
              type="number"
              id="price"
              class="form-control"
              formControlName="price"
            />
            <div *ngIf="control['price'].invalid && control['price'].touched" class="text-danger">
              <small *ngIf="control['price'].errors?.['required']">El precio es obligatorio.</small>
              <small *ngIf="control['price'].errors?.['pattern']">El precio debe ser un número válido.</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="description" class="form-label">Descripción</label>
            <input
              type="text"
              id="description"
              class="form-control"
              formControlName="description"
            />
            <div *ngIf="control['description'].invalid && control['description'].touched" class="text-danger">
              <small *ngIf="control['description'].errors?.['required']">La descripción es obligatoria.</small>
              <small *ngIf="control['description'].errors?.['maxlength']">La descripción no puede tener más de 15 caracteres.</small>
            </div>
          </div>

          <div class="d-grid">
            <button type="submit" class="btn btn-primary" [disabled]="inventarioForm.invalid">Guardar</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</main>
